{
    "author": {
        "name": "Powerhouse Inc.",
        "website": "https://www.powerhouse.inc"
    },
    "description": "A renown user",
    "extension": "phru",
    "id": "powerhouse/renown-user",
    "name": "RenownUser",
    "specifications": [
        {
            "changeLog": [],
            "modules": [
                {
                    "description": "",
                    "id": "72dcc8b4-dcb1-4d12-b202-ef37f8837c0d",
                    "name": "profile",
                    "operations": [
                        {
                            "description": "",
                            "errors": [],
                            "examples": [],
                            "id": "a838e278-512c-455f-bc76-fdb67d787ed3",
                            "name": "SET_USERNAME",
                            "reducer": "",
                            "schema": "input SetUsernameInput {\n  \"Add your inputs here\"\n  username: String!\n}",
                            "scope": "global",
                            "template": ""
                        },
                        {
                            "description": "",
                            "errors": [],
                            "examples": [],
                            "id": "dd4f3288-1172-41bd-b689-7853b67bab1d",
                            "name": "SET_ETH_ADDRESS",
                            "reducer": "",
                            "schema": "input SetEthAddressInput {\n  \"Add your inputs here\"\n  ethAddress: EthereumAddress!\n}",
                            "scope": "global",
                            "template": ""
                        },
                        {
                            "description": "",
                            "errors": [],
                            "examples": [],
                            "id": "a63ce76c-d01b-4be6-9b37-7c1d252966fc",
                            "name": "SET_USER_IMAGE",
                            "reducer": "",
                            "schema": "input SetUserImageInput {\n  \"Add your inputs here\"\n  userImage: String!\n}",
                            "scope": "global",
                            "template": ""
                        }
                    ]
                },
                {
                    "description": "Manages user authorizations",
                    "id": "authorization-module-001",
                    "name": "authorization",
                    "operations": [
                        {
                            "description": "Adds a new authorization to the user",
                            "errors": [],
                            "examples": [],
                            "id": "add-authorization-op-001",
                            "name": "ADD_AUTHORIZATION",
                            "reducer": "const newAuthorization = {\n  id: action.input.id,\n  jwt: action.input.jwt,\n  issuer: action.input.issuer || null,\n  subject: action.input.subject || null,\n  audience: action.input.audience || null,\n  payload: action.input.payload || null,\n  revoked: false,\n  createdAt: action.input.createdAt,\n  revokedAt: null\n};\n\nstate.authorizations.push(newAuthorization);",
                            "schema": "input AddAuthorizationInput {\n  id: OID!\n  jwt: String!\n  issuer: String\n  subject: String\n  audience: String\n  payload: String\n  createdAt: DateTime!\n}",
                            "scope": "global",
                            "template": "Adds a new authorization to the user"
                        },
                        {
                            "description": "Marks an authorization as revoked",
                            "errors": [
                                {
                                    "code": "AUTHORIZATION_NOT_FOUND",
                                    "description": "The specified authorization ID does not exist",
                                    "id": "auth-not-found-error-001",
                                    "name": "AuthorizationNotFoundError",
                                    "template": ""
                                }
                            ],
                            "examples": [],
                            "id": "revoke-authorization-op-001",
                            "name": "REVOKE_AUTHORIZATION",
                            "reducer": "const authIndex = state.authorizations.findIndex(auth => auth.id === action.input.id);\n\nif (authIndex === -1) {\n  throw new AuthorizationNotFoundError(`Authorization with ID ${action.input.id} not found`);\n}\n\nstate.authorizations[authIndex].revoked = true;\nstate.authorizations[authIndex].revokedAt = action.input.revokedAt;",
                            "schema": "input RevokeAuthorizationInput {\n  id: OID!\n  revokedAt: DateTime!\n}",
                            "scope": "global",
                            "template": "Marks an authorization as revoked"
                        },
                        {
                            "id": "remove-authorization-op-001",
                            "name": "REMOVE_AUTHORIZATION",
                            "description": "Removes an authorization from the user",
                            "schema": "input RemoveAuthorizationInput {\n  id: OID!\n}",
                            "template": "Removes an authorization from the user",
                            "reducer": "const authIndex = state.authorizations.findIndex(auth => auth.id === action.input.id);\n\nif (authIndex === -1) {\n  throw new AuthorizationNotFoundError(`Authorization with ID ${action.input.id} not found`);\n}\n\nstate.authorizations.splice(authIndex, 1);",
                            "errors": [
                                {
                                    "id": "auth-not-found-error-002",
                                    "name": "AuthorizationNotFoundError",
                                    "code": "AUTHORIZATION_NOT_FOUND",
                                    "description": "The specified authorization ID does not exist",
                                    "template": ""
                                }
                            ],
                            "examples": [],
                            "scope": "global"
                        }
                    ]
                }
            ],
            "state": {
                "global": {
                    "examples": [],
                    "initialValue": "{\n  \"username\": null,\n  \"ethAddress\": null,\n  \"userImage\": null,\n  \"authorizations\": []\n}",
                    "schema": "type Authorization {\n  id: OID!\n  jwt: String!\n  issuer: String\n  subject: String\n  audience: String\n  payload: String\n  revoked: Boolean\n  createdAt: DateTime\n  revokedAt: DateTime\n}\n\ntype RenownUserState {\n  \"Add your global state fields here\"\n  username: String\n  ethAddress: EthereumAddress\n  userImage: String\n  authorizations: [Authorization!]!\n}"
                },
                "local": {
                    "examples": [],
                    "initialValue": "",
                    "schema": ""
                }
            },
            "version": 1
        }
    ]
}